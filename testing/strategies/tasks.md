# Теоретически ориентированные задачи по Главе 9  
## «Тестирование микросервисов, часть 1»

Задачи, ориентированные на теорию, идеально подходят для проверки понимания студентами основных концепций, классификаций и стратегических проблем, описанных в источниках.

---

## 1. Критика традиционного подхода к тестированию

**Задача:**  
Проанализируйте недостатки традиционного подхода к тестированию, описанного на примере FTGO, и объясните, почему он неприемлем в современных гибких процессах разработки ПО.

**Вопросы для обсуждения:**
- Назовите две основные причины, по которым ручное тестирование считается неприемлемым.  
- Как раннее включение тестирования в процесс разработки (вместо тестирования уже написанного приложения) способствует повышению продуктивности разработчиков?

---

## 2. Концепция автоматического теста и изоляция зависимостей

**Задача:**  
Опишите жизненный цикл автоматического теста и объясните необходимость использования дублеров (doubles) для изоляции тестируемой системы.

**Вопросы для обсуждения:**
- Опишите четыре обязательных этапа типичного автоматического теста: **Подготовка (Setup)**, **Выполнение (Execution)**, **Проверка (Verification)** и **Очистка (Cleanup)**. 
- Проведите сравнение идей: **заглушка (stub)** и **макет (mock)**. Как эти дублеры симулируют поведение зависимости?  
- Объясните, почему тестирование класса `OrderController` путем запуска значительной части приложения считается непрактичным и почему изоляция тестов необходима.

---

## 3. Классификация тестов и приоритизация

**Задача:**  
Сравните **Тестовый квадрант (Брайан Марик)** и **Пирамиду тестов** как два инструмента для классификации и приоритизации тестового набора.

**Вопросы для обсуждения:**
- Опишите две оси классификации Тестового квадранта: ориентация (**бизнес/технологии**) и цель (**помощь в программировании/оценка приложения**).  
- Приведите примеры тестов, относящихся к квадранту **Q2** («помощь в программировании с ориентацией на бизнес») и квадранту **Q4** («оценка приложения с точки зрения технологий»).  
- Объясните принцип **Пирамиды тестов**. Почему модульных тестов должно быть много, а сквозных тестов (E2E) — мало? Свяжите это с понятиями **скорости**, **сложности** и **надежности тестов**.

---

## 4. Проблемы межсервисного взаимодействия и тестирование контрактов

**Задача:**  
Объясните, почему Межпроцессное взаимодействие (IPC) является ключевой трудностью при тестировании микросервисной архитектуры, и опишите стратегию **Тестирования контрактов с расчетом на потребителя (CDC)**.

**Вопросы для обсуждения:**
- Объясните, почему **сквозные тесты (End-to-End)** часто избегаются для проверки низкоуровневого механизма IPC, даже если они способны выявить проблемы с интеграцией.  
- Что представляет собой **контракт** в контексте межсервисного взаимодействия (IPC) и почему он важен? Приведите примеры взаимодействий, требующих контракта (например, REST API или асинхронный обмен сообщениями).  
- В чем заключается суть **CDC**? Определите роли **потребителя (Consumer)** и **провайдера (Provider)** (например, API-шлюз и сервис Order).  
- Как **Spring Cloud Contract** или **Pact** используют примеры HTTP-запроса и ответа (контракта) для генерации тестов на стороне провайдера и настройки заглушек (макетов) на стороне потребителя?

---

## 5. Интеграция тестов в процесс развертывания

**Задача:**  
Опишите этапы процесса **развертывания (Deployment Pipeline)** и объясните, как на каждом этапе выполняется тестирование.

**Вопросы для обсуждения:**
- В чем заключается «основной смысл процедуры» развертывания, связанный с уведомлением о непройденных тестах?  
- Перечислите и охарактеризуйте типы тестов, выполняемые на следующих этапах:  
  - **Этап, предшествующий фиксации (Pre-commit)**  
  - **Этап фиксации (Commit)**  
  - **Интеграционный этап (Integration)**  
- Объясните, почему время выполнения наборов тестов обычно увеличивается по мере продвижения кода через процесс развертывания.

---
