# Cart — Техническое задание

## Проект: Food To Go

### Цель

Реализовать класс `Cart` для управления корзиной пользователя, включая добавление/удаление товаров, применение промокодов и расчёт итоговой суммы с накопительными скидками.

Класс должен быть **чистым**, без внешних зависимостей, полностью покрываемым юнит-тестами.

---

## 1. Основные функции класса

### 1.1. Добавление товаров

Метод: `void addItem(String itemName, int quantity)`

* Добавляет указанное количество товара в корзину.
* Если товара нет в меню → `IllegalArgumentException`.

### 1.2. Удаление товаров

Метод: `void removeItem(String itemName, int quantity)`

* Уменьшает количество товара в корзине.
* Если товара нет или количество превышает имеющееся → `IllegalArgumentException`.

### 1.3. Применение промокода

Метод: `void applyPromoCode(String promoCode)`

* Валидные промокоды:

  * `FOOD10` → скидка 10% на корзину, если сумма ≥ 2000₸
  * `FOOD20` → скидка 20% на корзину, если сумма ≥ 5000₸
* Недопустимый промокод → `IllegalArgumentException`.

### 1.4. Расчёт итоговой суммы

Метод: `double calculateTotal()`

* Сумма = сумма всех товаров с учётом количества.
* Применяется активный промокод.
* Применяются скидки OrderService: ≥ 5000₸ → 10%, ≥ 10000₸ → 15%.

### 1.5. Получение краткого отчёта

Метод: `String getSummary()`

* Выводит:

  * Количество товаров
  * Сумму до скидки
  * Применённую скидку/промокод
  * Итоговую сумму

Пример строки:

```
Cart summary: 5 items, subtotal = 5400₸, discount = 10%, total = 4860₸
```

---

## 2. Требования к тестированию

* **Чистые юнит-тесты**, без моков.
* Проверять все методы и кейсы:

  * Добавление и удаление товаров
  * Применение валидных/невалидных промокодов
  * Расчёт суммы с учётом скидок и промокодов
  * Формирование корректного отчёта

Сценарии для тестов:

* Добавление товаров (включая 0 или отрицательное количество)
* Удаление товаров больше, чем есть → исключение
* Применение промокода к корзине ниже минимальной суммы → исключение
* Применение нескольких промокодов подряд → активен только последний

---

## 3. Критерии оценки

| Критерий                                      | Баллы |
| --------------------------------------------- | ----- |
| Реализация логики добавления/удаления товаров | 3     |
| Применение промокодов и накопительных скидок  | 3     |
| Корректность расчёта итоговой суммы           | 2     |
| Формирование корректного отчёта               | 2     |
| Полное покрытие тестами                       | 2     |
| Чистота кода и имена методов                  | 1     |
| **Итого**                                     | 10    |
